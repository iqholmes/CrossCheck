{"ast":null,"code":"var _jsxFileName = \"/Users/ianholmes/code/final-project/client/src/components/class/reserve-class.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAthletes, fetchUser } from '../../actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ReserveClass({\n  athletes,\n  onOpenModal,\n  onCloseModal,\n  onSubmit\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n  const [selectedAthlete, setSelectedAthlete] = useState(false);\n  const authenticated = useSelector(state => state.auth.authenticated);\n  useEffect(() => {\n    dispatch(getAthletes()); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [getAthletes]);\n  useEffect(() => {\n    if (authenticated) {\n      dispatch(fetchUser());\n    }\n  }, [authenticated, dispatch]);\n  const athleteList = useSelector(state => state.athleteList);\n  const remainingAthletes = athleteList.filter(athlete => !athletes.includes(athlete._id));\n\n  const handleOnClick = e => {\n    e.preventDefault();\n\n    if (selectedAthlete) {\n      onSubmit(selectedAthlete);\n    }\n  };\n\n  const handleOnChange = e => {\n    e.preventDefault();\n    setSelectedAthlete(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => {\n        setShow(true);\n        onOpenModal();\n      },\n      variant: \"primary reserve-class-button\",\n      children: \"Reserve\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: () => {\n        setShow(false);\n        onCloseModal();\n      },\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Sign up for Class\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Find your name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                name: \"athlete\",\n                onChange: handleOnChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: -1,\n                  children: 'Select your name from the list...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 19\n                }, this), remainingAthletes.map(athlete => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: athlete._id,\n                  children: [athlete.firstName, \" \", athlete.lastName]\n                }, athlete._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)\n          }, \"athlete\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => {\n              setShow(false);\n              onCloseModal();\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !selectedAthlete,\n            type: \"submit\",\n            variant: \"primary\",\n            onClick: handleOnClick,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ReserveClass, \"lJvkDqXtscvrH2uVlg5TzU8ZXsg=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = ReserveClass;\nexport default ReserveClass;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReserveClass\");","map":{"version":3,"sources":["/Users/ianholmes/code/final-project/client/src/components/class/reserve-class.js"],"names":["useState","useEffect","Modal","Button","useDispatch","useSelector","getAthletes","fetchUser","ReserveClass","athletes","onOpenModal","onCloseModal","onSubmit","dispatch","show","setShow","selectedAthlete","setSelectedAthlete","authenticated","state","auth","athleteList","remainingAthletes","filter","athlete","includes","_id","handleOnClick","e","preventDefault","handleOnChange","target","value","map","firstName","lastName"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAthletes, fetchUser } from '../../actions/index';\n\nfunction ReserveClass({athletes, onOpenModal, onCloseModal, onSubmit}) {\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n  const [selectedAthlete, setSelectedAthlete] = useState(false);\n  const authenticated = useSelector((state) => state.auth.authenticated);\n \n  useEffect(() => {\n    dispatch(getAthletes());\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [getAthletes]);\n\n  useEffect(() => {\n    if (authenticated) {\n      dispatch(fetchUser());\n    } \n  }, [authenticated, dispatch]);\n\n  const athleteList = useSelector(state => state.athleteList);\n  const remainingAthletes = athleteList.filter(athlete => !athletes.includes(athlete._id));\n\n  const handleOnClick = (e) => {\n    e.preventDefault();\n    if (selectedAthlete) {\n      onSubmit(selectedAthlete);\n    }\n  }\n\n  const handleOnChange = (e) => {\n    e.preventDefault();\n    setSelectedAthlete(e.target.value);\n  }\n\n  return (\n    <>\n      <Button \n        onClick={() => {setShow(true); onOpenModal();}}\n        variant=\"primary reserve-class-button\" >\n        Reserve\n      </Button>\n\n      <Modal show={show} onHide={() => {setShow(false); onCloseModal();}}>\n        <Modal.Header>\n          <Modal.Title>\n            Sign up for Class\n          </Modal.Title>\n        </Modal.Header>\n        <form>\n          <Modal.Body>\n            <div key=\"athlete\">\n              <div className=\"form-group\">\n                <label>Find your name</label>\n                <select\n                className=\"form-select\"\n                name=\"athlete\"\n                onChange={handleOnChange}>\n                  <option value={-1}>{'Select your name from the list...'}</option>\n                  {remainingAthletes.map((athlete) => (\n                    <option key={athlete._id} value={athlete._id}>\n                      {athlete.firstName} {athlete.lastName}\n                    </option>\n                        ))}\n                </select>\n              </div>\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => {setShow(false); onCloseModal();}}>\n            Close\n          </Button>\n            <Button disabled={!selectedAthlete} type=\"submit\" variant=\"primary\" onClick={handleOnClick}>\n              Submit\n            </Button>\n          </Modal.Footer>\n        </form>\n      </Modal>\n    </>\n  )\n}\n\nexport default ReserveClass;\n"]},"metadata":{},"sourceType":"module"}